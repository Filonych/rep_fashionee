{"ast":null,"code":"import Categories from\"../../../components/Shop/Categories/Categories\";import filterProducts from\"../../../helpers/filterProducts\";import data from\"../../../products.json\";import{useState,useMemo,useEffect}from\"react\";import\"./style.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function Filter(_ref){let{setSelectedItems,setCurrentPage,sortValue}=_ref;const[searchValue,setSearchValue]=useState(\"\");const[filter,setFilter]=useState({category:\"All\",minPrice:null,maxPrice:null,colors:[]});const initialFilter=useMemo(()=>{const filteredCategories=data.products.flatMap(item=>item.categories).filter((item,id,array)=>array.indexOf(item)===id);const colors=data.products.map(item=>item.color).filter((item,id,array)=>array.indexOf(item)===id);return{filteredCategories,colors};},[]);const applyFilter=()=>{setCurrentPage(1);const products=filterProducts(searchValue,filter,sortValue);setSelectedItems(products);};const onToggleColor=color=>{setFilter(prevFilter=>{const updatedColors=prevFilter.colors.includes(color)?prevFilter.colors.filter(c=>c!==color):[...prevFilter.colors,color];return{...prevFilter,colors:updatedColors};});};const handleInputChange=event=>{setSearchValue(event.target.value);};useEffect(()=>{const timerId=setTimeout(()=>{setCurrentPage(1);const products=filterProducts(searchValue,filter,sortValue);setSelectedItems(products);},500);return()=>clearTimeout(timerId);},[searchValue,setCurrentPage,setSelectedItems,sortValue]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"sidebar_search_wrap\",children:[/*#__PURE__*/_jsx(\"input\",{onChange:handleInputChange,className:\"sidebar_search_input\",placeholder:\"Search\"}),/*#__PURE__*/_jsx(\"img\",{src:\"img/search.svg\",alt:\"\"})]}),/*#__PURE__*/_jsx(Categories,{filter:filter,setFilter:setFilter,filteredCategories:initialFilter.filteredCategories}),/*#__PURE__*/_jsxs(\"div\",{className:\"sidebar_price\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"sidebar_section_title\",children:\"Price\"}),/*#__PURE__*/_jsx(\"input\",{className:\"min_price\",placeholder:\"Min\",onChange:event=>setFilter({...filter,minPrice:event.target.value||0})}),/*#__PURE__*/_jsx(\"input\",{className:\"max_price\",placeholder:\"Max\",onChange:event=>setFilter({...filter,maxPrice:event.target.value||Infinity})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"sidebar_colors\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"sidebar_section_title\",children:\"Colors\"}),/*#__PURE__*/_jsx(\"div\",{className:\"sidebar_colors_wrap\",children:initialFilter.colors.map(item=>/*#__PURE__*/_jsxs(\"label\",{className:\"container\",children:[item,/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:filter.colors.includes(item),onChange:()=>onToggleColor(item)}),/*#__PURE__*/_jsx(\"span\",{className:\"checkmark\"})]},item))}),/*#__PURE__*/_jsxs(\"div\",{className:\"sidebar_colors_deploy_wrap\",children:[/*#__PURE__*/_jsxs(\"svg\",{width:\"15\",height:\"9\",viewBox:\"0 0 15 9\",fill:\"none\",xmlns:\"http://www.w3.org/2000/svg\",children:[/*#__PURE__*/_jsx(\"rect\",{y:\"2.66675\",width:\"2\",height:\"15\",transform:\"rotate(-90 0 2.66675)\",fill:\"#FF8E8E\"}),/*#__PURE__*/_jsx(\"path\",{d:\"M8 9L4.5359 5L11.4641 5L8 9Z\",fill:\"#FF8E8E\"})]}),/*#__PURE__*/_jsx(\"span\",{children:\"Deploy\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"sidebar_filter_button_wrap\",children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>applyFilter(),type:\"button\",className:\"sidebar_filter_button\",children:\"Apply Filter\"})})]});}export default Filter;","map":{"version":3,"names":["Categories","filterProducts","data","useState","useMemo","useEffect","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Filter","_ref","setSelectedItems","setCurrentPage","sortValue","searchValue","setSearchValue","filter","setFilter","category","minPrice","maxPrice","colors","initialFilter","filteredCategories","products","flatMap","item","categories","id","array","indexOf","map","color","applyFilter","onToggleColor","prevFilter","updatedColors","includes","c","handleInputChange","event","target","value","timerId","setTimeout","clearTimeout","children","className","onChange","placeholder","src","alt","Infinity","type","checked","width","height","viewBox","fill","xmlns","y","transform","d","onClick"],"sources":["/workspaces/rep_fashionee/src/components/Shop/Filter/Filter.jsx"],"sourcesContent":["import Categories from \"../../../components/Shop/Categories/Categories\";\r\nimport filterProducts from \"../../../helpers/filterProducts\";\r\nimport data from \"../../../products.json\";\r\nimport { useState, useMemo, useEffect } from \"react\";\r\nimport \"./style.css\";\r\n\r\nfunction Filter({ setSelectedItems, setCurrentPage, sortValue }) {\r\n  const [searchValue, setSearchValue] = useState(\"\");\r\n\r\n  const [filter, setFilter] = useState({\r\n    category: \"All\",\r\n    minPrice: null,\r\n    maxPrice: null,\r\n    colors: [],\r\n  });\r\n\r\n  const initialFilter = useMemo(() => {\r\n    const filteredCategories = data.products\r\n      .flatMap((item) => item.categories)\r\n      .filter((item, id, array) => array.indexOf(item) === id);\r\n\r\n    const colors = data.products\r\n      .map((item) => item.color)\r\n      .filter((item, id, array) => array.indexOf(item) === id);\r\n\r\n    return {\r\n      filteredCategories,\r\n      colors,\r\n    };\r\n  }, []);\r\n\r\n  const applyFilter = () => {\r\n    setCurrentPage(1);\r\n\r\n    const products = filterProducts(searchValue, filter, sortValue);\r\n    setSelectedItems(products);\r\n  };\r\n\r\n  const onToggleColor = (color) => {\r\n    setFilter((prevFilter) => {\r\n      const updatedColors = prevFilter.colors.includes(color)\r\n        ? prevFilter.colors.filter((c) => c !== color)\r\n        : [...prevFilter.colors, color];\r\n      return {\r\n        ...prevFilter,\r\n        colors: updatedColors,\r\n      };\r\n    });\r\n  };\r\n\r\n  const handleInputChange = (event) => {\r\n    setSearchValue(event.target.value);\r\n  };\r\n\r\n  useEffect(() => {\r\n    const timerId = setTimeout(() => {\r\n      setCurrentPage(1);\r\n      const products = filterProducts(searchValue, filter, sortValue);\r\n      setSelectedItems(products);\r\n    }, 500);\r\n\r\n    return () => clearTimeout(timerId);\r\n  }, [searchValue, setCurrentPage, setSelectedItems, sortValue]);\r\n\r\n  return (\r\n    <>\r\n      <div className=\"sidebar_search_wrap\">\r\n        <input\r\n          onChange={handleInputChange}\r\n          className=\"sidebar_search_input\"\r\n          placeholder=\"Search\"\r\n        ></input>\r\n        <img src=\"img/search.svg\" alt=\"\" />\r\n      </div>\r\n      <Categories\r\n        filter={filter}\r\n        setFilter={setFilter}\r\n        filteredCategories={initialFilter.filteredCategories}\r\n      />\r\n\r\n      <div className=\"sidebar_price\">\r\n        <h4 className=\"sidebar_section_title\">Price</h4>\r\n        <input\r\n          className=\"min_price\"\r\n          placeholder=\"Min\"\r\n          onChange={(event) =>\r\n            setFilter({ ...filter, minPrice: event.target.value || 0 })\r\n          }\r\n        />\r\n        <input\r\n          className=\"max_price\"\r\n          placeholder=\"Max\"\r\n          onChange={(event) =>\r\n            setFilter({ ...filter, maxPrice: event.target.value || Infinity })\r\n          }\r\n        />\r\n      </div>\r\n      <div className=\"sidebar_colors\">\r\n        <h4 className=\"sidebar_section_title\">Colors</h4>\r\n        <div className=\"sidebar_colors_wrap\">\r\n          {initialFilter.colors.map((item) => (\r\n            <label key={item} className=\"container\">\r\n              {item}\r\n              <input\r\n                type=\"checkbox\"\r\n                checked={filter.colors.includes(item)}\r\n                onChange={() => onToggleColor(item)}\r\n              />\r\n              <span className=\"checkmark\"></span>\r\n            </label>\r\n          ))}\r\n        </div>\r\n        <div className=\"sidebar_colors_deploy_wrap\">\r\n          <svg\r\n            width=\"15\"\r\n            height=\"9\"\r\n            viewBox=\"0 0 15 9\"\r\n            fill=\"none\"\r\n            xmlns=\"http://www.w3.org/2000/svg\"\r\n          >\r\n            <rect\r\n              y=\"2.66675\"\r\n              width=\"2\"\r\n              height=\"15\"\r\n              transform=\"rotate(-90 0 2.66675)\"\r\n              fill=\"#FF8E8E\"\r\n            />\r\n            <path d=\"M8 9L4.5359 5L11.4641 5L8 9Z\" fill=\"#FF8E8E\" />\r\n          </svg>\r\n          <span>Deploy</span>\r\n        </div>\r\n      </div>\r\n      <div className=\"sidebar_filter_button_wrap\">\r\n        <button\r\n          onClick={() => applyFilter()}\r\n          type=\"button\"\r\n          className=\"sidebar_filter_button\"\r\n        >\r\n          Apply Filter\r\n        </button>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Filter;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}