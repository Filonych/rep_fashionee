{"ast":null,"code":"import{useState}from\"react\";import{useEffect,useContext}from\"react\";import{AppContext}from\"../../context\";import data from\"../../products.json\";import Sorting from\"../../components/Shop/Sorting/Sorting\";import ReviewedItems from\"../../components/Shop/ReviewedItems/ReviewedItems\";import Card from\"../../components/Shop/Card/Card\";import Pagination from\"../../components/Shop/Pagination/Pagination\";import Filter from\"../../components/Shop/Filter/Filter\";import FirstScreen from\"../../components/common/FirstScreen/FirstScreen\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Shop(_ref){let{slicedItems,setSlicedItems}=_ref;const{cartItems,setCartItems,wishlistItems,setWishlistItems}=useContext(AppContext);const[selectedItems,setSelectedItems]=useState(data.products);const[currentPage,setCurrentPage]=useState(1);const[sortValue,setSortValue]=useState(\"\");const numberOfProducts=selectedItems.length;const addToCart=item=>{const itemExists=cartItems.some(cartItem=>cartItem.id===item.id);if(!itemExists){const updatedCart=[...cartItems,item];localStorage.setItem(\"cart\",JSON.stringify(updatedCart));setCartItems(updatedCart);return;}const updatedCart=cartItems.filter(cartItem=>cartItem.id!==item.id);localStorage.setItem(\"cart\",JSON.stringify(updatedCart));setCartItems(updatedCart);};const addToWishlist=item=>{const itemExists=wishlistItems.some(wishlistItem=>wishlistItem.id===item.id);if(!itemExists){const updatedWishlist=[...wishlistItems,item];localStorage.setItem(\"wishlist\",JSON.stringify(updatedWishlist));setWishlistItems(updatedWishlist);return;}const updatedWishlist=wishlistItems.filter(wishlistItem=>wishlistItem.id!==item.id);localStorage.setItem(\"wishlist\",JSON.stringify(updatedWishlist));setWishlistItems(updatedWishlist);};useEffect(()=>{const savedCartItems=JSON.parse(localStorage.getItem(\"cart\"));setCartItems(savedCartItems||[]);const savedWishlistItems=JSON.parse(localStorage.getItem(\"wishlist\"));setWishlistItems(savedWishlistItems||[]);},[setCartItems,setWishlistItems]);return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(FirstScreen,{name:\"Shop\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"main_section\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"sidebar_wrap\",children:[/*#__PURE__*/_jsx(Filter,{setSelectedItems:setSelectedItems,setCurrentPage:setCurrentPage,selectedItems:selectedItems,sortValue:sortValue}),/*#__PURE__*/_jsx(ReviewedItems,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"sidebar_sale_banner\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"season\"}),/*#__PURE__*/_jsx(\"br\",{}),\"SALE\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"main_section_center\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"main_section_center_first-line\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"products_in_the_category\",children:[\"There are \",numberOfProducts,\" products in this category\"]}),/*#__PURE__*/_jsx(Sorting,{sortValue:sortValue,setSortValue:setSortValue,selectedItems:selectedItems,setSelectedItems:setSelectedItems})]}),/*#__PURE__*/_jsx(\"div\",{className:\"products_wrap\",children:slicedItems.map(item=>/*#__PURE__*/_jsx(Card,{item:item,addToWishlist:addToWishlist,addToCart:addToCart,wishlistItems:wishlistItems,cartItems:cartItems},item.id))}),/*#__PURE__*/_jsx(Pagination,{selectedItems:selectedItems,setSlicedItems:setSlicedItems,currentPage:currentPage,setCurrentPage:setCurrentPage})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"subscribe_section\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"subscribe_section_form\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"subscribe_section_title\",children:\"Newsletter\"}),/*#__PURE__*/_jsx(\"p\",{className:\"subscribe_section_subtitle\",children:\"Be the first to hear about deals, offers and upcoming collections.\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"subscribe_section_input_wrap\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"subscribe_section_input\",placeholder:\"Enter your email\"}),/*#__PURE__*/_jsx(\"button\",{className:\"subscribe_section_button\",children:\"Subscribe\"})]})]})})]});}export default Shop;","map":{"version":3,"names":["useState","useEffect","useContext","AppContext","data","Sorting","ReviewedItems","Card","Pagination","Filter","FirstScreen","jsx","_jsx","jsxs","_jsxs","Shop","_ref","slicedItems","setSlicedItems","cartItems","setCartItems","wishlistItems","setWishlistItems","selectedItems","setSelectedItems","products","currentPage","setCurrentPage","sortValue","setSortValue","numberOfProducts","length","addToCart","item","itemExists","some","cartItem","id","updatedCart","localStorage","setItem","JSON","stringify","filter","addToWishlist","wishlistItem","updatedWishlist","savedCartItems","parse","getItem","savedWishlistItems","children","name","className","map","placeholder"],"sources":["/workspaces/rep_fashionee/src/pages/Shop/index.jsx"],"sourcesContent":["import { useState } from \"react\";\nimport { useEffect, useContext } from \"react\";\nimport { AppContext } from \"../../context\";\nimport data from \"../../products.json\";\n\nimport Sorting from \"../../components/Shop/Sorting/Sorting\";\nimport ReviewedItems from \"../../components/Shop/ReviewedItems/ReviewedItems\";\nimport Card from \"../../components/Shop/Card/Card\";\nimport Pagination from \"../../components/Shop/Pagination/Pagination\";\nimport Filter from \"../../components/Shop/Filter/Filter\";\nimport FirstScreen from \"../../components/common/FirstScreen/FirstScreen\";\n\nfunction Shop({ slicedItems, setSlicedItems }) {\n  const { cartItems, setCartItems, wishlistItems, setWishlistItems } =\n    useContext(AppContext);\n\n  const [selectedItems, setSelectedItems] = useState(data.products);\n  const [currentPage, setCurrentPage] = useState(1);\n  const [sortValue, setSortValue] = useState(\"\");\n\n  const numberOfProducts = selectedItems.length;\n\n  const addToCart = (item) => {\n    const itemExists = cartItems.some((cartItem) => cartItem.id === item.id);\n\n    if (!itemExists) {\n      const updatedCart = [...cartItems, item];\n      localStorage.setItem(\"cart\", JSON.stringify(updatedCart));\n      setCartItems(updatedCart);\n\n      return;\n    }\n\n    const updatedCart = cartItems.filter((cartItem) => cartItem.id !== item.id);\n    localStorage.setItem(\"cart\", JSON.stringify(updatedCart));\n    setCartItems(updatedCart);\n  };\n\n  const addToWishlist = (item) => {\n    const itemExists = wishlistItems.some(\n      (wishlistItem) => wishlistItem.id === item.id\n    );\n\n    if (!itemExists) {\n      const updatedWishlist = [...wishlistItems, item];\n      localStorage.setItem(\"wishlist\", JSON.stringify(updatedWishlist));\n      setWishlistItems(updatedWishlist);\n\n      return;\n    }\n\n    const updatedWishlist = wishlistItems.filter(\n      (wishlistItem) => wishlistItem.id !== item.id\n    );\n    localStorage.setItem(\"wishlist\", JSON.stringify(updatedWishlist));\n    setWishlistItems(updatedWishlist);\n  };\n\n  useEffect(() => {\n    const savedCartItems = JSON.parse(localStorage.getItem(\"cart\"));\n    setCartItems(savedCartItems || []);\n\n    const savedWishlistItems = JSON.parse(localStorage.getItem(\"wishlist\"));\n    setWishlistItems(savedWishlistItems || []);\n  }, [setCartItems, setWishlistItems]);\n\n  return (\n    <div>\n      <FirstScreen name=\"Shop\" />\n      <div className=\"main_section\">\n        <div className=\"sidebar_wrap\">\n          <Filter\n            setSelectedItems={setSelectedItems}\n            setCurrentPage={setCurrentPage}\n            selectedItems={selectedItems}\n            sortValue={sortValue}\n          />\n          <ReviewedItems />\n          <div className=\"sidebar_sale_banner\">\n            <span>season</span>\n            <br />\n            SALE\n          </div>\n        </div>\n\n        <div className=\"main_section_center\">\n          <div className=\"main_section_center_first-line\">\n            <div className=\"products_in_the_category\">\n              There are {numberOfProducts} products in this category\n            </div>\n            <Sorting\n              sortValue={sortValue}\n              setSortValue={setSortValue}\n              selectedItems={selectedItems}\n              setSelectedItems={setSelectedItems}\n            />\n          </div>\n          <div className=\"products_wrap\">\n            {slicedItems.map((item) => (\n              <Card\n                item={item}\n                key={item.id}\n                addToWishlist={addToWishlist}\n                addToCart={addToCart}\n                wishlistItems={wishlistItems}\n                cartItems={cartItems}\n              />\n            ))}\n          </div>\n          <Pagination\n            selectedItems={selectedItems}\n            setSlicedItems={setSlicedItems}\n            currentPage={currentPage}\n            setCurrentPage={setCurrentPage}\n          />\n        </div>\n      </div>\n      <div className=\"subscribe_section\">\n        <div className=\"subscribe_section_form\">\n          <h3 className=\"subscribe_section_title\">Newsletter</h3>\n          <p className=\"subscribe_section_subtitle\">\n            Be the first to hear about deals, offers and upcoming collections.\n          </p>\n          <div className=\"subscribe_section_input_wrap\">\n            <input\n              className=\"subscribe_section_input\"\n              placeholder=\"Enter your email\"\n            ></input>\n            <button className=\"subscribe_section_button\">Subscribe</button>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default Shop;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}